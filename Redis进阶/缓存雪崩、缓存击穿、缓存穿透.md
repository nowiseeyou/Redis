## 缓存雪崩 ##

### 概念 ###

大量的 key 设置了相同的过期时间，导致缓存在同一时刻全部失效，造成瞬时DB请求量过大，压力骤增，引起雪崩。

### 解决方法 ###

可以给缓存设置过期时间加上一个随机值时间，使得每个key的过期时间分布开来，不会集中在同一时刻失效。


## 缓存击穿 ##

### 概念 ###

一个存在的 key ,在缓存过期的那一刻，同时有大量的请求，这些请求都会击穿到 DB,造成瞬时 DB 请求量过大，压力骤增。

### 解决方法 ###

在访问 key 之前，采用 **SETNX(set if not exists)** 来设置另一个短期 key 来锁住当前 key 的访问，访问结束再删除该短期 key 。

## 缓存穿透 ##

### 概念 ###

访问一个不存在的 key, 缓存不起作用，请求会穿透到DB ,流量大时 DB 会挂掉。

### 解决方法 ###

1. 采用 **布隆过滤器**，使用一个足够大的 bitmap ,用于存储可能访问的 key,不存在的 key 直接被过滤；
2. 访问 key 未在 DB 查询到值，也将空值写进缓存，但可以设置较短的过期时间。